(function(a,b,c){var d=b,e={conf:{prefix:"imjs",plugin:{}},commands:[],addCommand:function(a,b){if(b){a();return}this.commands.push(a)},ready:function(){var a=this,b=function(){for(var b=0,c=a.commands.length;b<c;b++)a.commands[b]()};if(d.readyState==="complete")setTimeout(b,1);else if(d.addEventListener)d.addEventListener("DOMContentLoaded",b,!1);else{var c=!1;function e(){c||(c=!0,b())}(function f(){try{d.documentElement.doScroll("left")}catch(a){setTimeout(f,50);return}e()})(),d.onreadystatechange=function(){d.readyState=="complete"&&(d.onreadystatechange=null,e())}}}};e.extend=function(a,b){for(var c in b)a[c]=b[c]},e.extend(e,{getElements:function(a,c){var c=c||b,d=[];typeof selector=="object"&&(d=[a]);if(typeof a=="string")if(c.querySelectorAll){a=c.querySelectorAll(a);for(var e=0,f=a.length;e<f;e++)d[e]=a[e]}else if(/^#/.test(a))d=[c.getElementById(a.replace(/^./,""))];else if(/^\./.test(a)){a=a.replace(/^\./,"");var g=c.getElementsByTagName("*"),h=new RegExp("\\b"+a+"\\b");for(var e=0,i=0,f=g.length;e<f;e++)h.test(g[e].className)&&(d[i]=g[e],i++)}else{a=c.getElementsByTagName(a);for(var e=0,f=a.length;e<f;e++)d[e]=a[e]}return d},addClass:function(a,b){var c=a.className.split(" "),d=!0;for(var e=0,f=c.length;e<f;e++)c[e]===b&&(d=!1);d&&(a.className=c.join(" ")+" "+b)},removeClass:function(a,b){var c=a.className.split(" "),d=!1;for(var e=0,f=c.length;e<f;e++)c[e]===b&&(c.splice(e,1),d=!0);d&&(a.className=c.join(" "))},getAttribute:function(a,b){return a.getAttribute(b)},forEach:function(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];b.call(e,e,c)}},on:function(a,b,c){d.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)},css:function(a,b){for(var c in b)a.style[c]=b[c]},getElementPosition:function(a){var b=0,c=0;do b+=a.offsetTop||0,c+=a.offsetLeft||0,a=a.offsetParent;while(a);return{top:b,left:c}},getScrollPosition:function(){var a=b.documentElement.scrollTop||b.body.scrollTop,c=b.documentElement.scrollLeft||b.body.scrollLeft;return{top:a,left:c}},preventDefault:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},requestAnimationFrame:function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.msRequestAnimationFrame||a.oRequestAnimationFrame||function(b){return a.setTimeout(b,1e3/60)}},cancelRequestAnimationFrame:function(){return a.cancelRequestAnimationFrame||a.webkitCancelRequestAnimationFrame||a.mozCancelRequestAnimationFrame||a.msCancelRequestAnimationFrame||a.oCancelRequestAnimationFrame||function(b){a.clearTimeout(b)}},getDeviceFromUa:function(){var b=a.navigator.userAgent.toLowerCase(),c={iphone:!1,android:!1,windowsphone:!1,ipad:!1,androidtab:!1,pc:!1};return b.indexOf("iphone")>-1&&b.indexOf("ipad")==-1||b.indexOf("ipod")>-1?c.iphone=!0:b.indexOf("android")>-1&&b.indexOf("mobile")>-1?c.android=!0:b.indexOf("windows phone")>-1?c.windowsphone=!0:b.indexOf("ipad")>-1?c.ipad=!0:b.indexOf("android")>-1?c.androidtab=!0:c.pc=!0,c},getDeviveFromSize:function(c,e){var f=a.innerWidth||d.documentElement.clientWidth||d.body.clientWidth,g={mouseWide:!1,touchWide:!1,mouseMedium:!1,touchMedium:!1,mouseNarrow:!1,touchNarrow:!1};return"ontouchstart"in a?c&&f<=c?g.touchNarrow=!0:e&&f<=e?g.touchMedium=!0:g.touchWide=!0:typeof a.addEventListener=="undefined"&&typeof b.getElementsByClassName=="undefined"?g.mouseWide=!0:c&&f<=c?g.mouseNarrow=!0:e&&f<=e?g.mouseMedium=!0:g.mouseWide=!0,g},getBrowserFromUa:function(){var b=a.navigator.userAgent.toLowerCase(),c=/msie/.test(b);ieVersion=c?Number(/(msie)[ \/]([\w|\.]+)/.exec(b)[2]):0;var d={lteIe6:!1,lteIe7:!1,lteIe8:!1,lteIe9:!1,lteIe10:!1,ie6:!1,ie7:!1,ie8:!1,ie9:!1,ie10:!1,ie:!1,firefox:!1,opera:!1,chrome:!1,safari:!1};return c&&(d.ie=!0),/firefox/.test(b)&&(d.firefox=!0),/opera/.test(b)&&(d.opera=!0),/chrome/.test(b)&&(d.chrome=!0),/safari/.test(b)&&(d.safari=!0),c&&(ieVersion===6?(d.lteIe6=!0,d.lteIe7=!0,d.lteIe8=!0,d.lteIe9=!0,d.lteIe10=!0,d.ie6=!0):ieVersion===7?(d.lteIe7=!0,d.lteIe8=!0,d.lteIe9=!0,d.lteIe10=!0,d.ie7=!0):ieVersion===8?(d.lteIe8=!0,d.lteIe9=!0,d.lteIe10=!0,d.ie8=!0):ieVersion===9?(d.lteIe9=!0,d.lteIe10=!0,d.ie9=!0):ieVersion===10&&(d.lteIe10=!0,d.ie10=!0)),d},getBrowserFromSupport:function(){return{lteIe6:typeof a.addEventListener=="undefined"&&typeof b.documentElement.style.maxHeight=="undefined",lteIe7:typeof a.addEventListener=="undefined"&&typeof b.querySelectorAll=="undefined",lteIe8:typeof a.addEventListener=="undefined"&&typeof b.getElementsByClassName=="undefined",ie:b.uniqueID,firefox:a.sidebar,opera:a.opera,webkit:!b.uniqueID&&!a.opera&&!a.sidebar&&a.localStorage&&typeof a.orientation=="undefined",mobile:typeof a.orientation!="undefined"}},getComputedStyle:function(a){return a.currentStyle||b.defaultView.getComputedStyle(a,"")},makeArray:function(a){var b=[];for(var c=0,d=a.length;c<d;c++)b[c]=a[c];return b},easing:{linear:function(a,b,c,d){return b+c*a/d},swing:function(a,b,c,d){return(-Math.cos(a/d*Math.PI)/2+.5)*c+b},easeOutQuad:function(a,b,c,d){return-c*(a/=d)*(a-2)+b}}}),a.imjs=e,e.ready()})(window,document),imjs.conf.plugin.addClassToList={even:"even",odd:"odd"},imjs.addCommand(function(){function b(a){imjs.forEach(a,function(a,b){var c=new RegExp(imjs.conf.prefix+"-addClass");if(a.className.match(c)){var d=this.getAttribute("data-even"),e=this.getAttribute("data-odd"),f=d?d:imjs.conf.plugin.addClassToList.even,g=e?e:imjs.conf.plugin.addClassToList.odd,h=imjs.getElements("li",a),i=h.length;for(var b=0;b<i;b++){var j=h[b],k;b%2===0?imjs.addClass(j,f):imjs.addClass(j,g)}}})}b(imjs.getElements("ul")),b(imjs.getElements("ol"))}),imjs.conf.plugin.addClassToTable={even:"even",odd:"odd"},imjs.addCommand(function(){var b=imjs.getElements("table");imjs.forEach(b,function(a,b){var c=new RegExp(imjs.conf.prefix+"-addClass");if(a.className.match(c)){var d=this.getAttribute("data-even"),e=this.getAttribute("data-odd"),f=d?d:imjs.conf.plugin.addClassToTable.even,g=e?e:imjs.conf.plugin.addClassToTable.odd,h=imjs.getElements("tr",a),i=h.length;for(var b=0;b<i;b++){var j=h[b],k;b%2===0?imjs.addClass(j,f):imjs.addClass(j,g)}}})}),imjs.conf.plugin.biggerLink={hoverClass:"hover"},imjs.addCommand(function(){var a=imjs.conf.prefix+"-biggerLink",b=imjs.getElements("."+a),c=imjs.conf.plugin.biggerLink.hoverClass||"hover";imjs.forEach(b,function(a,b){var d=imjs.getElements("a",a)[0];a.style.cursor="pointer",imjs.on(a,"click",function(){d.getAttribute("target")?window.open(d.href):location.href=d.href}),imjs.on(a,"mouseover",function(){imjs.addClass(a,c)}),imjs.on(a,"mouseout",function(){imjs.removeClass(a,c)})})}),imjs.conf.plugin.boxheights={},imjs.addCommand(function(){var a=imjs.conf.plugin.boxheights,b=imjs.getElements("."+(imjs.conf.prefix+"-boxheights")),c={},d=imjs.getBrowserFromUa().ie6?["height","auto"]:["minHeight",0];imjs.forEach(b,function(a,b){var d=imjs.getAttribute(a,"data-group")||"_",e=c[d]=c[d]||[];imjs.getAttribute(a,"data-children")=="true"?imjs.forEach(a.children,function(a,b){e.push(a)}):e.push(a)});for(var e in c){var f=0;imjs.forEach(c[e],function(a,b){a.style[d[0]]=d[1];var c=imjs.getComputedStyle(a),e=a.clientHeight-(parseInt(c.paddingTop)+parseInt(c.paddingBottom));f=Math.max(f,Math.ceil(e))}),imjs.forEach(c[e],function(a,b){a.style[d[0]]=f+"px"})}}),imjs.conf.plugin.label={},imjs.addCommand(function(){var a=imjs.getBrowserFromUa();if(!a.ie6&&!a.ie7&&!a.ie8)return;var b=imjs.conf.plugin.label,c=imjs.getElements("."+(imjs.conf.prefix+"-label")),d=[];imjs.forEach(c,function(a,b){imjs.getAttribute(a,"data-descendant")=="true"?d=d.concat(imjs.getElements("label",a)):d.push(a)}),imjs.forEach(d,function(b,c){var d=[b];if(!a.ie6){var e=imjs.getElements("img",b);if(e.length==0)return;d=e}var f=imjs.getElements("input",b);if(f.length==0)return;var g=f[0],h=/radio|checkbox/.test(g.type),i=function(a){if(!h&&a.srcElement.tagName!="INPUT"){g.focus();return}if(a.srcElement==g||g.type=="radio"&&g.checked)return;g.checked=!g.checked};imjs.forEach(d,function(a,b){imjs.on(a,"click",i)})})}),imjs.conf.plugin.popup={width:500,height:500,options:",menubar=no,toolbar=no,location=yes,status=yes,resizable=yes,scrollbars=yes"},imjs.addCommand(function(){var a=imjs.conf.plugin.popup,b=imjs.getElements("."+(imjs.conf.prefix+"-popup"));imjs.forEach(b,function(b,d){if(!b.href)return;var e=imjs.getAttribute(b,"data-width")||a.width,f=imjs.getAttribute(b,"data-height")||a.height;imjs.on(b,"click",function(d){window.open(b.href,b.target,"width="+e+",height="+f+a.options),imjs.preventDefault(d)})})}),function(a){var b=a.document,c=b.documentElement,d=imjs.conf.prefix+"-redirect";if(c.className.indexOf(d)<=-1)return;var e=c.getAttribute("data-target"),f=c.getAttribute("data-url");if(!e||!f)return;var g=e.split(" "),h=imjs.getDeviceFromUa(),i=!1;for(var j=0,k=g.length;j<k;j++){var l=g[j];if(l=="pc"&&h.pc){i=!0;break}if(l=="sp"&&(h.iphone||h.android||h.windowsphone)){i=!0;break}if(l=="tablet"&&(h.ipad||h.androidtab)){i=!0;break}}i&&(a.location.href=f)}(window),imjs.conf.plugin.rollover={suffix:"_on"},imjs.addCommand(function(){function k(a){a||(a=window.event);var b=a.target||a.srcElement;b.src=b.src.replace(e,f.suffix+".$1")}function l(a){a||(a=window.event);var b=a.target||a.srcElement;b.src=b.src.replace(g,".$1")}function m(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.nodeName==="IMG"?n(b,e)||b.push(e):e.childNodes&&m(e.childNodes,b)}}function n(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return!0;return!1}var b=imjs.conf.prefix+"-rollover",c=imjs.getElements("."+b),d=[],e=/.(\w+)$/,f=imjs.conf.plugin.rollover,g=new RegExp(f.suffix+".(\\w+)$");m(c,d);for(var h=0,i=d.length;h<i;h++){var j=d[h];imjs.on(j,"mouseover",k),imjs.on(j,"mouseout",l)}}),imjs.conf.plugin.scroll={speed:500,offset:20,easing:"swing"},imjs.addCommand(function(){var b=imjs.requestAnimationFrame(),c=imjs.getElements("a");imjs.forEach(c,function(){var a=this.hash,c=new RegExp(imjs.conf.prefix+"-scroll");if(a.match(/^#/)&&this.className.match(c)){var d=imjs.getElements(a)[0];if(d){var e=this.getAttribute("data-speed"),f=this.getAttribute("data-offset"),g=this.getAttribute("data-easing"),h=e||imjs.conf.plugin.scrollspeed||500,i=f||imjs.conf.plugin.scrolloffset||20,j=g||imjs.conf.plugin.scrolleasing||"linear";imjs.on(this,"click",function(a){var c=imjs.getScrollPosition().top,e=imjs.getScrollPosition().left,f=imjs.getElementPosition(d).top-i,g=f-c,k=+(new Date),l=h;(function m(){var a=+(new Date)-k,d=imjs.easing[j](a,c,g,l);window.scrollTo(e,d),a>l?window.scrollTo(e,f):b(m)})(),imjs.preventDefault(a)})}}})}),imjs.conf.plugin.snsButton={fbDefaultHref:!1,fbHref:"http://www.imjp.co.jp",fbWidth:100,fbHeight:22,fbLayout:"button_count",fbCount:"true"},imjs.addCommand(function(){function c(){var a=imjs.conf.prefix+"-facebook",c=imjs.getElements("."+a),d='<iframe src="//www.facebook.com/plugins/like.php?href=${href}&amp;send=false&amp;layout=${layout}&amp;width=${width}&amp;show_faces=false&amp;font&amp;colorscheme=light&amp;action=like&amp;height=${height}" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:${width}px; height:${height}px;" allowTransparency="true"></iframe>',e,f,g=72;for(e=0,f=c.length;e<f;e++){var h=c[e],i=h.getAttribute("data-href")||b.fbDefaultHref&&b.fbHref||window.location.href,j=h.getAttribute("data-width")||b.fbWidth;j=h.getAttribute("data-count")==="none"?g:j;var k=h.getAttribute("data-height")||b.fbHeight,l=h.getAttribute("data-layout")||b.fbLayout,m=d.replace(/\${href}/,encodeURIComponent(i)).replace(/\${width}/g,j).replace(/\${height}/g,k).replace(/\${layout}/g,l);h.innerHTML=m}}function d(){var a=imjs.conf.prefix+"-twitter",b=imjs.getElements("."+a),c='<a href="https://twitter.com/share" class="twitter-share-button" data-lang="ja" ${url} ${text} ${count} ${hashtags}>Tweet</Tweet>',d,e=b.length;e>0&&!function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src="//platform.twitter.com/widgets.js",e.parentNode.insertBefore(d,e))}(document,"script","twitter-wjs");for(d=0;d<e;d++){var f=b[d],g=f.getAttribute("data-url")?'data-url="'+f.getAttribute("data-url")+'"':"",h=f.getAttribute("data-text")?'data-text="'+f.getAttribute("data-text")+'"':"",i=f.getAttribute("data-count")==="none"?'data-count="none"':"",j=f.getAttribute("data-hashtags")?'data-hashtags="'+f.getAttribute("data-hashtags")+'"':"",k=f.getAttribute("data-width"),l=c.replace(/\${url}/,g).replace(/\${text}/g,h).replace(/\${count}/g,i).replace(/\${hashtags}/g,j);f.innerHTML=l,k&&(f.style.width=k+"px")}}function e(){var a=imjs.conf.prefix+"-mixi",b=imjs.getElements("."+a),c='<a href="http://mixi.jp/share.pl" class="mixi-check-button" ${url}> </a>',d,e=b.length;e>0&&!function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.type="text/javascript",d.src="http://static.mixi.jp/js/share.js",e.parentNode.insertBefore(d,e))}(document,"script","mixi-mjs");for(d=0;d<e;d++){var f=b[d],g=f.getAttribute("data-url")?'data-url="'+f.getAttribute("data-url")+'"':"",h=c.replace(/\${url}/,g);f.innerHTML=h}}function f(){var a=imjs.conf.prefix+"-weibo",b=imjs.getElements("."+a),c="<wb:share-button ${count} ${size} ${type} ></wb:share-button>",d,e=b.length;e>0&&!function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.type="text/javascript",d.charset="utf-8",d.src="http://tjs.sjs.sinajs.cn/open/api/js/wb.js?appkey=",e.parentNode.insertBefore(d,e))}(document,"script","weibo-wjs");for(d=0;d<e;d++){var f=b[d],g=f.getAttribute("data-count")==="none"?'count="n"':"",h=f.getAttribute("data-size")?'size="'+f.getAttribute("data-size")+'"':"",i=f.getAttribute("data-type")?'type="'+f.getAttribute("data-type")+'"':"",j=c.replace(/\${count}/,g).replace(/\${size}/g,h).replace(/\${type}/g,i);f.innerHTML=j}}var b=imjs.conf.plugin.snsButton;c(),d(),e(),f()});